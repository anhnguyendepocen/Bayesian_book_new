(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     17012,        413]
NotebookOptionsPosition[     16567,        394]
NotebookOutlinePosition[     16914,        409]
CellTagsIndexPosition[     16871,        406]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"vPrior", "[", 
     RowBox[{"\[Theta]_", ",", "\[Alpha]_", ",", "\[Beta]_"}], "]"}], ":=", 
    " ", 
    RowBox[{"PDF", "[", 
     RowBox[{
      RowBox[{"BetaDistribution", "[", 
       RowBox[{"\[Alpha]", ",", "\[Beta]"}], "]"}], ",", "\[Theta]"}], 
     "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"vLikelihood", "[", 
     RowBox[{
     "\[Theta]_", ",", "nSampleSize_Integer", ",", "nDiseased_Integer"}], 
     "]"}], ":=", 
    RowBox[{"Likelihood", "[", 
     RowBox[{
      RowBox[{"BinomialDistribution", "[", 
       RowBox[{"nSampleSize", ",", "\[Theta]"}], "]"}], ",", 
      RowBox[{"{", "nDiseased", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"vPosterior", "[", 
     RowBox[{
     "\[Theta]_", ",", "nSampleSize_Integer", ",", "nDiseased_Integer", ",", 
      "\[Alpha]_", ",", "\[Beta]_"}], "]"}], ":=", " ", 
    RowBox[{"PDF", "[", 
     RowBox[{
      RowBox[{"BetaDistribution", "[", 
       RowBox[{
        RowBox[{"\[Alpha]", "+", "nDiseased"}], ",", 
        RowBox[{"\[Beta]", " ", "+", " ", "nSampleSize", "-", "nDiseased"}]}],
        "]"}], ",", "\[Theta]"}], "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"fShowPriorLikelihoodPosterior", "[", 
     RowBox[{
     "\[Alpha]_", ",", "\[Beta]_", ",", "nSampleSize_Integer", ",", 
      "nDiseased_Integer"}], "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", 
      RowBox[{"Show", "[", 
       RowBox[{
        RowBox[{"GraphicsColumn", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Plot", "[", 
            RowBox[{
             RowBox[{"vPrior", "[", 
              RowBox[{"\[Theta]", ",", "\[Alpha]", ",", "\[Beta]"}], "]"}], 
             ",", 
             RowBox[{"{", 
              RowBox[{"\[Theta]", ",", "0", ",", "1"}], "}"}], ",", 
             RowBox[{"Frame", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "True", ",", "False", ",", "False"}], 
               "}"}]}], ",", 
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "False"}], "}"}]}], ",", 
             RowBox[{"FrameLabel", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"\"\<\[Theta]\>\"", ",", "\"\<pdf\>\""}], "}"}]}], ",", 
             RowBox[{"PlotLabel", "\[Rule]", "\"\<prior\>\""}], ",", 
             RowBox[{"PlotStyle", "\[Rule]", "Blue"}], ",", 
             RowBox[{"PlotRange", "\[Rule]", "Full"}]}], "]"}], ",", 
           RowBox[{"Plot", "[", 
            RowBox[{
             RowBox[{"vLikelihood", "[", 
              RowBox[{"\[Theta]", ",", "nSampleSize", ",", "nDiseased"}], 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\[Theta]", ",", "0", ",", "1"}], "}"}], ",", 
             RowBox[{"Frame", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "True", ",", "False", ",", "False"}], 
               "}"}]}], ",", 
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "False"}], "}"}]}], ",", 
             RowBox[{"PlotRange", "\[Rule]", "Full"}], ",", 
             RowBox[{"FrameLabel", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"\"\<\[Theta]\>\"", ",", "\"\<likelihood\>\""}], 
               "}"}]}], ",", 
             RowBox[{"PlotStyle", "\[Rule]", "Blue"}], ",", 
             RowBox[{"PlotLabel", "\[Rule]", "\"\<likelihood\>\""}]}], "]"}], 
           ",", 
           RowBox[{"Plot", "[", 
            RowBox[{
             RowBox[{"vPosterior", "[", 
              RowBox[{
              "\[Theta]", ",", "nSampleSize", ",", "nDiseased", ",", 
               "\[Alpha]", ",", "\[Beta]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\[Theta]", ",", "0", ",", "1"}], "}"}], ",", 
             RowBox[{"Frame", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "True", ",", "False", ",", "False"}], 
               "}"}]}], ",", 
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "False"}], "}"}]}], ",", 
             RowBox[{"PlotRange", "\[Rule]", "Full"}], ",", 
             RowBox[{"FrameLabel", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"\"\<\[Theta]\>\"", ",", "\"\<pdf\>\""}], "}"}]}], ",", 
             RowBox[{"PlotStyle", "\[Rule]", "Blue"}], ",", 
             RowBox[{"PlotLabel", "\[Rule]", "\"\<posterior\>\""}]}], "]"}]}],
           "}"}], "]"}], ",", 
        RowBox[{"ImageSize", "\[Rule]", "400"}]}], "]"}]}], 
     "]"}]}]}]}]], "Input",
 CellChangeTimes->{{3.643361524245005*^9, 3.6433616897794733`*^9}, {
  3.643361769591038*^9, 3.6433617699130564`*^9}, {3.6433618689307203`*^9, 
  3.643361947409209*^9}, {3.643362367181218*^9, 3.643362367418232*^9}, {
  3.6433624812787447`*^9, 3.6433624823158035`*^9}, {3.6433625357968626`*^9, 
  3.6433625824385304`*^9}, {3.6433632305546007`*^9, 3.643363275408166*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Manipulate", "[", 
  RowBox[{
   RowBox[{"fShowPriorLikelihoodPosterior", "[", 
    RowBox[{
    "\[Alpha]", ",", "\[Beta]", ",", "nSampleSize", ",", "nDiseased"}], "]"}],
    ",", 
   RowBox[{"Style", "[", 
    RowBox[{"\"\<Prior parameters\>\"", ",", "Bold", ",", "Medium"}], "]"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Alpha]", ",", "1", ",", "\"\<Beta 1\>\""}], "}"}], ",", "1", 
     ",", "10", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\[Beta]", ",", "1", ",", "\"\<Beta 2\>\""}], "}"}], ",", "1", 
     ",", "10", ",", "1"}], "}"}], ",", "Delimiter", ",", 
   RowBox[{"Style", "[", 
    RowBox[{"\"\<Data\>\"", ",", "Bold", ",", "Medium"}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"nSampleSize", ",", "10", ",", "\"\<Sample size\>\""}], "}"}], 
     ",", "10", ",", "100", ",", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"nDiseased", ",", "1", ",", "\"\<number with disease\>\""}], 
      "}"}], ",", "1", ",", "nSampleSize", ",", "1"}], "}"}], ",", 
   RowBox[{"ControlPlacement", "\[Rule]", "Left"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6433629111263304`*^9, 3.6433629111273303`*^9}, {
  3.6433629533157434`*^9, 3.643363087931443*^9}}],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`nDiseased$$ = 
    1, $CellContext`nSampleSize$$ = 10, $CellContext`\[Alpha]$$ = 
    4, $CellContext`\[Beta]$$ = 4, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{
      Hold[
       Style["Prior parameters", Bold, Medium]], 
      Manipulate`Dump`ThisIsNotAControl}, {{
       Hold[$CellContext`\[Alpha]$$], 1, "Beta 1"}, 1, 10, 1}, {{
       Hold[$CellContext`\[Beta]$$], 1, "Beta 2"}, 1, 10, 1}, {
      Hold[
       Style["Data", Bold, Medium]], Manipulate`Dump`ThisIsNotAControl}, {{
       Hold[$CellContext`nSampleSize$$], 10, "Sample size"}, 10, 100, 1}, {{
       Hold[$CellContext`nDiseased$$], 1, "number with disease"}, 1, 
      Dynamic[$CellContext`nSampleSize$$], 1}}, Typeset`size$$ = {
    400., {357., 361.}}, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`\[Alpha]$98164$$ = 
    0, $CellContext`\[Beta]$98165$$ = 0, $CellContext`nSampleSize$98166$$ = 
    0, $CellContext`nDiseased$98167$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`nDiseased$$ = 
        1, $CellContext`nSampleSize$$ = 10, $CellContext`\[Alpha]$$ = 
        1, $CellContext`\[Beta]$$ = 1}, "ControllerVariables" :> {
        Hold[$CellContext`\[Alpha]$$, $CellContext`\[Alpha]$98164$$, 0], 
        Hold[$CellContext`\[Beta]$$, $CellContext`\[Beta]$98165$$, 0], 
        Hold[$CellContext`nSampleSize$$, $CellContext`nSampleSize$98166$$, 0], 
        Hold[$CellContext`nDiseased$$, $CellContext`nDiseased$98167$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, 
      "Body" :> $CellContext`fShowPriorLikelihoodPosterior[$CellContext`\
\[Alpha]$$, $CellContext`\[Beta]$$, $CellContext`nSampleSize$$, \
$CellContext`nDiseased$$], "Specifications" :> {
        Style[
        "Prior parameters", Bold, 
         Medium], {{$CellContext`\[Alpha]$$, 1, "Beta 1"}, 1, 10, 
         1}, {{$CellContext`\[Beta]$$, 1, "Beta 2"}, 1, 10, 1}, Delimiter, 
        Style[
        "Data", Bold, 
         Medium], {{$CellContext`nSampleSize$$, 10, "Sample size"}, 10, 100, 
         1}, {{$CellContext`nDiseased$$, 1, "number with disease"}, 1, 
         Dynamic[$CellContext`nSampleSize$$], 1}}, 
      "Options" :> {ControlPlacement -> Left}, "DefaultOptions" :> {}],
     ImageSizeCache->{780., {387., 394.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{3.643366053749078*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"CloudDeploy", "[", 
  RowBox[{
   RowBox[{"Manipulate", "[", 
    RowBox[{
     RowBox[{"fShowPriorLikelihoodPosterior", "[", 
      RowBox[{
      "\[Alpha]", ",", "\[Beta]", ",", "nSampleSize", ",", "nDiseased"}], 
      "]"}], ",", 
     RowBox[{"Style", "[", 
      RowBox[{"\"\<Prior parameters\>\"", ",", "Bold", ",", "Medium"}], "]"}],
      ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\[Alpha]", ",", "1", ",", "\"\<Beta 1\>\""}], "}"}], ",", 
       "1", ",", "10", ",", "1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\[Beta]", ",", "1", ",", "\"\<Beta 2\>\""}], "}"}], ",", "1",
        ",", "10", ",", "1"}], "}"}], ",", "Delimiter", ",", 
     RowBox[{"Style", "[", 
      RowBox[{"\"\<Data\>\"", ",", "Bold", ",", "Medium"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"nSampleSize", ",", "10", ",", "\"\<Sample size\>\""}], "}"}],
        ",", "10", ",", "100", ",", "1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"nDiseased", ",", "1", ",", "\"\<number with disease\>\""}], 
        "}"}], ",", "1", ",", "nSampleSize", ",", "1"}], "}"}], ",", 
     RowBox[{"ControlPlacement", "\[Rule]", "Left"}]}], "]"}], ",", 
   RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6433639259443746`*^9, 3.643363937962062*^9}, {
  3.6433639712829676`*^9, 3.643363975823228*^9}, {3.643364656639168*^9, 
  3.643364658093251*^9}}],

Cell[BoxData[
 RowBox[{"g1", "=", 
  RowBox[{"Manipulate", "[", 
   RowBox[{
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", "}"}], ",", 
      RowBox[{"Show", "[", 
       RowBox[{
        RowBox[{"GraphicsColumn", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Plot", "[", 
            RowBox[{
             RowBox[{"PDF", "[", 
              RowBox[{
               RowBox[{"BetaDistribution", "[", 
                RowBox[{"\[Alpha]", ",", "\[Beta]"}], "]"}], ",", 
               "\[Theta]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\[Theta]", ",", "0", ",", "1"}], "}"}], ",", 
             RowBox[{"Frame", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "True", ",", "False", ",", "False"}], 
               "}"}]}], ",", 
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "False"}], "}"}]}], ",", 
             RowBox[{"FrameLabel", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"\"\<\[Theta]\>\"", ",", "\"\<pdf\>\""}], "}"}]}], ",", 
             RowBox[{"PlotLabel", "\[Rule]", "\"\<prior\>\""}], ",", 
             RowBox[{"PlotStyle", "\[Rule]", "Blue"}], ",", 
             RowBox[{"PlotRange", "\[Rule]", "Full"}]}], "]"}], ",", 
           RowBox[{"Plot", "[", 
            RowBox[{
             RowBox[{"Likelihood", "[", 
              RowBox[{
               RowBox[{"BinomialDistribution", "[", 
                RowBox[{"nSampleSize", ",", "\[Theta]"}], "]"}], ",", 
               RowBox[{"{", "nDiseased", "}"}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\[Theta]", ",", "0", ",", "1"}], "}"}], ",", 
             RowBox[{"Frame", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "True", ",", "False", ",", "False"}], 
               "}"}]}], ",", 
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "False"}], "}"}]}], ",", 
             RowBox[{"PlotRange", "\[Rule]", "Full"}], ",", 
             RowBox[{"FrameLabel", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"\"\<\[Theta]\>\"", ",", "\"\<likelihood\>\""}], 
               "}"}]}], ",", 
             RowBox[{"PlotStyle", "\[Rule]", "Blue"}], ",", 
             RowBox[{"PlotLabel", "\[Rule]", "\"\<likelihood\>\""}]}], "]"}], 
           ",", 
           RowBox[{"Plot", "[", 
            RowBox[{
             RowBox[{"PDF", "[", 
              RowBox[{
               RowBox[{"BetaDistribution", "[", 
                RowBox[{
                 RowBox[{"\[Alpha]", "+", "nDiseased"}], ",", 
                 RowBox[{
                 "\[Beta]", " ", "+", " ", "nSampleSize", "-", 
                  "nDiseased"}]}], "]"}], ",", "\[Theta]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\[Theta]", ",", "0", ",", "1"}], "}"}], ",", 
             RowBox[{"Frame", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "True", ",", "False", ",", "False"}], 
               "}"}]}], ",", 
             RowBox[{"FrameTicks", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"True", ",", "False"}], "}"}]}], ",", 
             RowBox[{"PlotRange", "\[Rule]", "Full"}], ",", 
             RowBox[{"FrameLabel", "\[Rule]", 
              RowBox[{"{", 
               RowBox[{"\"\<\[Theta]\>\"", ",", "\"\<pdf\>\""}], "}"}]}], ",", 
             RowBox[{"PlotStyle", "\[Rule]", "Blue"}], ",", 
             RowBox[{"PlotLabel", "\[Rule]", "\"\<posterior\>\""}]}], "]"}]}],
           "}"}], "]"}], ",", 
        RowBox[{"ImageSize", "\[Rule]", "400"}]}], "]"}]}], "]"}], ",", 
    RowBox[{"Style", "[", 
     RowBox[{"\"\<Prior parameters\>\"", ",", "Bold", ",", "Medium"}], "]"}], 
    ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Alpha]", ",", "1", ",", "\"\<Beta 1\>\""}], "}"}], ",", "1",
       ",", "10", ",", "1"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Beta]", ",", "1", ",", "\"\<Beta 2\>\""}], "}"}], ",", "1", 
      ",", "10", ",", "1"}], "}"}], ",", "Delimiter", ",", 
    RowBox[{"Style", "[", 
     RowBox[{"\"\<Data\>\"", ",", "Bold", ",", "Medium"}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"nSampleSize", ",", "10", ",", "\"\<Sample size\>\""}], "}"}], 
      ",", "10", ",", "100", ",", "1"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"nDiseased", ",", "1", ",", "\"\<number with disease\>\""}], 
       "}"}], ",", "1", ",", "nSampleSize", ",", "1"}], "}"}], ",", 
    RowBox[{"ControlPlacement", "\[Rule]", "Left"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.6433652139370437`*^9, 3.643365214294064*^9}}]
},
WindowSize->{1366, 686},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
FrontEndVersion->"10.0 for Microsoft Windows (64-bit) (September 9, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 5082, 117, 252, "Input"],
Cell[CellGroupData[{
Cell[5665, 141, 1335, 34, 72, "Input"],
Cell[7003, 177, 3179, 61, 855, "Output"]
}, Open  ]],
Cell[10197, 241, 1560, 38, 72, "Input"],
Cell[11760, 281, 4803, 111, 232, "Input"]
}
]
*)

(* End of internal cache information *)
